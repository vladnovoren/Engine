1) 

на будущее:
- какое-нибудь хайповое тестирование (например гугл-тесты)
- и логирование
- и ошибку открытия файла глибы (то есть ошибки глибы)
- и ошибки всего остального